[
  {
    "objectID": "index.html#this-course",
    "href": "index.html#this-course",
    "title": "personal radmin",
    "section": "this course:",
    "text": "this course:\n\nrstats.wtf\ngithub.com/rstats-wtf"
  },
  {
    "objectID": "index.html#me",
    "href": "index.html#me",
    "title": "personal radmin",
    "section": "me",
    "text": "me\n\n\nAuditor\n\n\npersonal laptop \nRStudio in Citrix \nairgapped Posit Workbench \nairgapped Shiny Server \nwork laptop  \nwork desktop \nwork desktop ii \n\n\n\nData Scientist\n\n\npersonal laptop \nwork laptop \nRStudio in Citrix \nRStudio Server \n\n\n\n@posit\n\n\npersonal laptop \nwork laptop \nPosit Workbench Demo Server \nPosit Workbench Internal Server \nmisc ephemeral environments\n\n\n\n\nthis is intended to provide context on my priorities / habits of thought: - it needs to work across operating systems - You can‚Äôt depend on having pro features - avoid admin where possible - as portable as practical - audit context means I need to be able to reproduce exactly - ‚Äúrun this command‚Äù preferable to a confluence page of screenshots"
  },
  {
    "objectID": "index.html#our-objectives",
    "href": "index.html#our-objectives",
    "title": "personal radmin",
    "section": "our objectives",
    "text": "our objectives\nHow do I:\n\nupgrade the version of R I‚Äôm using for this project?\ntrack which package versions I‚Äôm using for this project?\nmove this project from one machine to another?\nuse credentials for this project without exposing them?\n\n\nWe‚Äôre extending the lessons from Day 1 to think about what it means to work with R projects over time.\nThat means that in addition to wanting our individual projects to flow smoothly, we also want to strategize about how to manage different versions of the language, different package versions, and different execution contexts. Working on an old project on a new computer is a lot like trying to put an app into production."
  },
  {
    "objectID": "index.html#embrace-the-blank-slate",
    "href": "index.html#embrace-the-blank-slate",
    "title": "personal radmin",
    "section": "embrace the blank slate",
    "text": "embrace the blank slate\nusethis::use_rstudio_preferences(\n  save_workspace = \"never\",\n  load_workspace = FALSE,\n  auto_append_newline = TRUE\n)"
  },
  {
    "objectID": "index.html#restart-often",
    "href": "index.html#restart-often",
    "title": "personal radmin",
    "section": "restart often",
    "text": "restart often\n\n CTRL + SHIFT + F10\n CTRL + SHIFT + F10\n CMD + SHIFT + 0"
  },
  {
    "objectID": "index.html#only-you",
    "href": "index.html#only-you",
    "title": "personal radmin",
    "section": "üêª ü´µüèæ only you",
    "text": "üêª ü´µüèæ only you\ncan prevent computer fires\n\n‚ùå rm(list = ls())\n‚ùå setwd(\"it/works/on/my/machine\")\n‚úÖ here::here()"
  },
  {
    "objectID": "index.html#layers",
    "href": "index.html#layers",
    "title": "personal radmin",
    "section": "layers",
    "text": "layers"
  },
  {
    "objectID": "index.html#library",
    "href": "index.html#library",
    "title": "personal radmin",
    "section": "üì¶ library",
    "text": "üì¶ library\n\nR packages\n\nthe natural unit for distributing R code\n\n\n\nbase R\n\n14 base + 15 recommended packages\nships with all binary distributions of R\n\n\n\nFor example, have you used lattice recently? ü§∑\n\nit came with your R installation, can use out of the box\nlibrary(lattice)"
  },
  {
    "objectID": "index.html#where-do-packages-live-locally",
    "href": "index.html#where-do-packages-live-locally",
    "title": "personal radmin",
    "section": "Where do packages live locally?",
    "text": "Where do packages live locally?\n\nBy default, in the default library\n.Library\n\nAll libraries for the current session\n.libPaths()\n\nAll installed packages\ninstalled.packages()"
  },
  {
    "objectID": "index.html#explore-your-package-library",
    "href": "index.html#explore-your-package-library",
    "title": "personal radmin",
    "section": "explore your package library",
    "text": "explore your package library\nuse_course(\n  \"rstats-wtf/wtf-explore-libraries\",\n  destdir = \"project/path\" # wherever you usually keep projects\n  )\nusethis::proj_activate(\"project/path\")\n\n  \n    ‚àí\n    +\n \n 07:30"
  },
  {
    "objectID": "index.html#starting-r-1",
    "href": "index.html#starting-r-1",
    "title": "personal radmin",
    "section": "starting R",
    "text": "starting R"
  },
  {
    "objectID": "index.html#why",
    "href": "index.html#why",
    "title": "personal radmin",
    "section": "why?",
    "text": "why?\nSometimes we want to change the way our code behaves without having to change the code.\n\nbehaves might mean - ‚Äúwhat computer do I think I‚Äôm on‚Äù - ‚Äúis this dev or prod‚Äù?"
  },
  {
    "objectID": "index.html#r-startup-sequence",
    "href": "index.html#r-startup-sequence",
    "title": "personal radmin",
    "section": "R startup sequence",
    "text": "R startup sequence"
  },
  {
    "objectID": "index.html#r-startup-sequence-our-focus",
    "href": "index.html#r-startup-sequence-our-focus",
    "title": "personal radmin",
    "section": "R startup sequence (our focus)",
    "text": "R startup sequence (our focus)"
  },
  {
    "objectID": "index.html#renviron",
    "href": "index.html#renviron",
    "title": "personal radmin",
    "section": ".Renviron",
    "text": ".Renviron\nenvironment variables\n\na [‚Ä¶] named value that can affect the way running processes will behave on a computer"
  },
  {
    "objectID": "index.html#what-goes-in-.renviron",
    "href": "index.html#what-goes-in-.renviron",
    "title": "personal radmin",
    "section": "what goes in .Renviron",
    "text": "what goes in .Renviron\n‚úÖ R-specific environment variables\n‚úÖ API keys or other secrets\n‚ùå R code"
  },
  {
    "objectID": "index.html#editing-.renviron",
    "href": "index.html#editing-.renviron",
    "title": "personal radmin",
    "section": "Editing .Renviron",
    "text": "Editing .Renviron\n\n\nusethis::edit_r_environ(scope = ?)\n\n\n\n\nuser\n~/.Renviron\n\nproject\npath/to/your/project/.Renviron"
  },
  {
    "objectID": "index.html#example-.renviron",
    "href": "index.html#example-.renviron",
    "title": "personal radmin",
    "section": "example .Renviron",
    "text": "example .Renviron\nPATH=\"${RTOOLS40_HOME}\\usr\\bin;${PATH}\" # windows users\nCONNECT_API_KEY=DaYK2hBUriSBYUEGIAiyXsRJHSjTYJN3\nR_HISTSIZE=100000\nDB_USER=elephant\nDB_PASS=p0stgr3s"
  },
  {
    "objectID": "index.html#read-environment-variables",
    "href": "index.html#read-environment-variables",
    "title": "personal radmin",
    "section": "read environment variables",
    "text": "read environment variables\n\nSys.getenv()"
  },
  {
    "objectID": "index.html#edit-your-user-.renviron",
    "href": "index.html#edit-your-user-.renviron",
    "title": "personal radmin",
    "section": "edit your user .Renviron",
    "text": "edit your user .Renviron\n\nusethis::edit_r_environ()\nadd WTF_USER=&lt;your name&gt;_user\nrestart your R session\nCTRL + SHIFT + F10\nCMD  + SHIFT + 0\nRetrieve the value of WTF_USER Sys.getenv(\"WTF_USER\")\n\n\n  \n    ‚àí\n    +\n \n 02:00"
  },
  {
    "objectID": "index.html#edit-your-project-.renviron",
    "href": "index.html#edit-your-project-.renviron",
    "title": "personal radmin",
    "section": "edit your project .Renviron",
    "text": "edit your project .Renviron\n\nusethis::edit_r_environ(\"project\")\nadd WTF_PROJECT=&lt;your name&gt;_project\nrestart your R session\nCTRL + SHIFT + F10\nCMD  + SHIFT + 0\nRetrieve the value of WTF_PROJECT Sys.getenv(\"WTF_PROJECT\")\n\n\n  \n    ‚àí\n    +\n \n 02:00\n \n\nwhat‚Äôs the value of WTF_USER after you set WTF_PROJECT?"
  },
  {
    "objectID": "index.html#renviron-recap",
    "href": "index.html#renviron-recap",
    "title": "personal radmin",
    "section": ".Renviron recap",
    "text": ".Renviron recap\nproject .Renviron ‚Äúshort-circuits‚Äù if it exists, your user .Renviron will not be evaluated"
  },
  {
    "objectID": "index.html#rprofile",
    "href": "index.html#rprofile",
    "title": "personal radmin",
    "section": ".Rprofile",
    "text": ".Rprofile\nR code that runs at the start of each session"
  },
  {
    "objectID": "index.html#interactive",
    "href": "index.html#interactive",
    "title": "personal radmin",
    "section": "?interactive()",
    "text": "?interactive()\n\n\nTRUE\nüßë‚Äçüíª \n\nsending individual lines of code to the console\n\n \n\n‚òùÔ∏è most .Rprofile customization\n\n\nFALSE\nü§ñ \n\nknitting an RMarkdown document\nR -e script.R"
  },
  {
    "objectID": "index.html#what-to-put-in-.rprofile",
    "href": "index.html#what-to-put-in-.rprofile",
    "title": "personal radmin",
    "section": "what to put in .Rprofile",
    "text": "what to put in .Rprofile\n\nset a default CRAN mirror\ncustomize R prompt"
  },
  {
    "objectID": "index.html#what-not-to-put-in-.rprofile",
    "href": "index.html#what-not-to-put-in-.rprofile",
    "title": "personal radmin",
    "section": "what not to put in .Rprofile",
    "text": "what not to put in .Rprofile\nIf it matters for code you share, it should not be in .Rprofile"
  },
  {
    "objectID": "index.html#why-shouldnt-these-go-in-.rprofile",
    "href": "index.html#why-shouldnt-these-go-in-.rprofile",
    "title": "personal radmin",
    "section": "why shouldn‚Äôt these go in .Rprofile?",
    "text": "why shouldn‚Äôt these go in .Rprofile?\n\noptions(stringsAsFactors = FALSE)\nlibrary(tidyverse)\nf &lt;- dplyr::filter\ntheme_set(theme_bw())"
  },
  {
    "objectID": "index.html#discuss-with-your-neighbor",
    "href": "index.html#discuss-with-your-neighbor",
    "title": "personal radmin",
    "section": "discuss with your neighbor",
    "text": "discuss with your neighbor\n\nWhy might these be safe to put in .Rprofile?\n\n\nlibrary(usethis)\nlibrary(devtools)\n\n  \n    ‚àí\n    +\n \n 02:00"
  },
  {
    "objectID": "index.html#dotfiles",
    "href": "index.html#dotfiles",
    "title": "personal radmin",
    "section": "dotfiles",
    "text": "dotfiles\n\nhttps://github.com/search?q=.Rprofile\n\n csgillespie/rprofile\n klmr/rprofile\n HenrikBengtsson/dotfiles-for-R"
  },
  {
    "objectID": "index.html#activity",
    "href": "index.html#activity",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\nedit your user .Rprofileedit your project .Rprofile\n\n\n\nusethis::edit_r_profile()\nadd print(\"from my user Rprofile\")\nrestart your R session\nCTRL + SHIFT + F10\nCMD  + SHIFT + 0\nwhat value is printed when you restart?\n\n\n\n\nusethis::edit_r_profile(\"project\")\nadd print(\"from my project Rprofile\")\nrestart your R session\nCTRL + SHIFT + F10\nCMD  + SHIFT + 0\nwhat value is printed when you restart?\n\n\n\n\n\n  \n    ‚àí\n    +\n \n 05:00"
  },
  {
    "objectID": "index.html#rprofile-recap",
    "href": "index.html#rprofile-recap",
    "title": "personal radmin",
    "section": ".Rprofile recap",
    "text": ".Rprofile recap\nproject .Rprofile ‚Äúshort-circuits‚Äù\nif it exists, your user .Rprofile will not be evaluated"
  },
  {
    "objectID": "index.html#wrapping-up",
    "href": "index.html#wrapping-up",
    "title": "personal radmin",
    "section": "wrapping up",
    "text": "wrapping up\n\n\n.Renviron\n\nsecrets\nenvironment information\n\n\n.Rprofile\n\ndevelopment dependencies\n\n\n\nEnvironment variables are inherited by child processes, so setting them early in the startup process is valuable Hosting providers trying to deal with secrets will often let you supply environment variables"
  },
  {
    "objectID": "index.html#installing-packages-1",
    "href": "index.html#installing-packages-1",
    "title": "personal radmin",
    "section": "installing packages",
    "text": "installing packages"
  },
  {
    "objectID": "index.html#states-of-r-packages",
    "href": "index.html#states-of-r-packages",
    "title": "personal radmin",
    "section": "states of R packages",
    "text": "states of R packages\n\n\n\n\n\n\n\n\n\n\n\ndevtools::build()\n\n\n\n\n\n\n\ndevtools::build(binary=T)\n\n\n\n\n\n\n\ninstall.packages()\n\n\n\n\n\n\n\nlibrary()\n\n\n\n\n\n\n\nSource\n\n\n\n\n\n\n\nBundled\n\n\n\n\n\n\n\nBinary\n\n\n\n\n\n\n\nInstalled\n\n\n\n\n\n\n\nLoaded\n\n\n\n\n\n\n\n\n\n\n\n\nR Packages ‚Äì Structure"
  },
  {
    "objectID": "index.html#states-of-r-packages-1",
    "href": "index.html#states-of-r-packages-1",
    "title": "personal radmin",
    "section": "states of R packages",
    "text": "states of R packages\n\n\n\n\n\n\n\n\n\n\n\nuse\n\n\n\n\n\n\n\ndev\n\n\n\n\n\n\n\ndevtools::build()\n\n\n\n\n\n\n\ndevtools::build(binary=T)\n\n\n\n\n\n\n\ninstall.packages()\n\n\n\n\n\n\n\nlibrary()\n\n\n\n\n\n\n\nSource\n\n\n\n\n\n\n\nBundled\n\n\n\n\n\n\n\nBinary\n\n\n\n\n\n\n\nInstalled\n\n\n\n\n\n\n\nLoaded\n\n\n\n\n\n\n\n\n\n\n\n\n\nshow how to set options for different environment managers\nInstall package from github\nDevelop your own packages\n\n\n\nR Packages ‚Äì Structure"
  },
  {
    "objectID": "index.html#binary-r-package",
    "href": "index.html#binary-r-package",
    "title": "personal radmin",
    "section": "binary R package",
    "text": "binary R package\n(  |  |  ) X  version X  version X  arch\n\ncompiled ahead of time\neasiest / fastest to install"
  },
  {
    "objectID": "index.html#where-to-get-binaries",
    "href": "index.html#where-to-get-binaries",
    "title": "personal radmin",
    "section": "where to get binaries",
    "text": "where to get binaries\n\n\n\n\n\n\n\n\n\nCRAN\nPosit Public Package Manager (p3m)\n\n\n\n\n windows\n‚úÖ\n‚úÖ\n\n\n mac OS\n‚úÖ\n‚úÖ\n\n\n linux\n‚ùå\n‚úÖ"
  },
  {
    "objectID": "index.html#are-binaries-available",
    "href": "index.html#are-binaries-available",
    "title": "personal radmin",
    "section": "are binaries available?",
    "text": "are binaries available?"
  },
  {
    "objectID": "index.html#cran",
    "href": "index.html#cran",
    "title": "personal radmin",
    "section": "CRAN",
    "text": "CRAN"
  },
  {
    "objectID": "index.html#may-not-be-the-latest",
    "href": "index.html#may-not-be-the-latest",
    "title": "personal radmin",
    "section": "may not be the latest",
    "text": "may not be the latest"
  },
  {
    "objectID": "index.html#may-not-be-the-latest-1",
    "href": "index.html#may-not-be-the-latest-1",
    "title": "personal radmin",
    "section": "may not be the latest",
    "text": "may not be the latest"
  },
  {
    "objectID": "index.html#may-not-be-the-latest-2",
    "href": "index.html#may-not-be-the-latest-2",
    "title": "personal radmin",
    "section": "may not be the latest",
    "text": "may not be the latest\n&gt; install.packages(\"parallelly\", repos = \"https://cran.r-project.org\")\n\nInstalling package into ‚ÄòC:/Users/WDAGUtilityAccount/Documents/R/win-library/4.0‚Äô\n(as ‚Äòlib‚Äô is unspecified)\n\n  There is a binary version available but the source version is later:\n           binary source needs_compilation\nparallelly 1.31.0 1.32.1             FALSE\n\ninstalling the source package ‚Äòparallelly‚Äô\n\ntrying URL 'https://cran.r-project.org/src/contrib/parallelly_1.32.1.tar.gz'\nContent type 'application/x-gzip' length 124853 bytes (121 KB)\ndownloaded 121 KB\n\n* installing *source* package 'parallelly' ...\n** package 'parallelly' successfully unpacked and MD5 sums checked\n** using staged installation\n** R\n** inst\n** byte-compile and prepare package for lazy loading\n** help\n*** installing help indices\n  converting help for package 'parallelly'\n    finding HTML links ... done\n    as.cluster                              html\n    autoStopCluster                         html\n    availableConnections                    html\n    availableCores                          html\n    availableWorkers                        html\n    canPortBeUsed                           html\n    cpuLoad                                 html\n    find_rshcmd                             html\n    freeCores                               html\n    freePort                                html\n    getOption2                              html\n    isConnectionValid                       html\n    isForkedChild                           html\n    isForkedNode                            html\n    isLocalhostNode                         html\n    isNodeAlive                             html\n    makeClusterMPI                          html\n    makeClusterPSOCK                        html\n    parallelly.options                      html\n    pid_exists                              html\n    supportsMulticore                       html\n*** copying figures\n** building package indices\n** testing if installed package can be loaded from temporary location\n*** arch - i386\n*** arch - x64\n** testing if installed package can be loaded from final location\n*** arch - i386\n*** arch - x64\n** testing if installed package keeps a record of temporary installation path\n* DONE (parallelly)"
  },
  {
    "objectID": "index.html#posit-public-package-manager",
    "href": "index.html#posit-public-package-manager",
    "title": "personal radmin",
    "section": "Posit Public Package Manager",
    "text": "Posit Public Package Manager"
  },
  {
    "objectID": "index.html#ppm",
    "href": "index.html#ppm",
    "title": "personal radmin",
    "section": "PPM",
    "text": "PPM"
  },
  {
    "objectID": "index.html#how-do-i-know-i-got-a-binary",
    "href": "index.html#how-do-i-know-i-got-a-binary",
    "title": "personal radmin",
    "section": "how do I know I got a binary?",
    "text": "how do I know I got a binary?\n\nCRAN CRAN p3mrenv\n\n\n&gt; install.packages(\"parallelly\", repos = \"https://cran.r-project.org\")\nInstalling package into ‚ÄòC:/Users/edavi/Documents/R/win-library/4.1‚Äô\n(as ‚Äòlib‚Äô is unspecified)\ntrying URL 'https://cran.r-project.org/bin/windows/contrib/4.1/parallelly_1.32.1.zip'\nContent type 'application/zip' length 306137 bytes (298 KB)\ndownloaded 298 KB\n\npackage ‚Äòparallelly‚Äô successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n    C:\\Users\\edavi\\AppData\\Local\\Temp\\Rtmpa2s3e8\\downloaded_packages\n\n\n&gt; install.packages(\"renv\", repos=\"https://cran.r-project.org\")\nInstalling package into ‚Äò/Users/edavidaja/Library/R/x86_64/4.1/library‚Äô\n(as ‚Äòlib‚Äô is unspecified)\ntrying URL 'https://cran.r-project.org/bin/macosx/contrib/4.1/renv_0.15.5.tgz'\nContent type 'application/x-gzip' length 1866760 bytes (1.8 MB)\n==================================================\ndownloaded 1.8 MB\n\n\nThe downloaded binary packages are in\n /var/folders/b5/fl4ff68d23s148tg1_1gnflc0000gn/T//RtmpMk69B0/downloaded_packages\n\n\n&gt; install.packages(\"remotes\")\nInstalling package into ‚ÄòC:/Users/WDAGUtilityAccount/AppData/Local/R/win-library/4.2‚Äô\n(as ‚Äòlib‚Äô is unspecified)\ntrying URL 'https://p3m.dev/cran/latest/bin/windows/contrib/4.2/remotes_2.4.2.zip'\nContent type 'binary/octet-stream' length 399930 bytes (390 KB)\ndownloaded 390 KB\n\npackage ‚Äòremotes‚Äô successfully unpacked and MD5 sums checked\n\nThe downloaded binary packages are in\n  C:\\Users\\WDAGUtilityAccount\\AppData\\Local\\Temp\\RtmpA1edRi\\downloaded_packages\n\n\n&gt; renv::install(\"fs\")\nRetrieving 'https://p3m.dev/cran/latest/bin/windows/contrib/4.2/fs_1.5.2.zip' ...\n  OK [downloaded 380.9 Kb in 0.5 secs]\nInstalling fs [1.5.2] ...\n  OK [installed binary]\nMoving fs [1.5.2] into the cache ...\n  OK [moved to cache in 7.4 milliseconds]"
  },
  {
    "objectID": "index.html#pop-quiz-hotshot",
    "href": "index.html#pop-quiz-hotshot",
    "title": "personal radmin",
    "section": "pop quiz, hotshot",
    "text": "pop quiz, hotshot\n\nDoes Posit Public Package Manager serve a binary of RPostgreSQL for R 4.3?\n\n\n  \n    ‚àí\n    +\n \n 02:00"
  },
  {
    "objectID": "index.html#source",
    "href": "index.html#source",
    "title": "personal radmin",
    "section": "Source",
    "text": "Source\n\ncompiled in your environment\nrequires extra tools when package uses C, C++, Fortran, Rust, etc.\n\n\n\nmost common reason to install from source is when you want the development version of a package from github One additional complication for *nix users:\ngenerally on windows can install and load packages that depend on other lower level libraries quite easily. Explain installing sf, for example."
  },
  {
    "objectID": "index.html#if-you-dont-have-tools",
    "href": "index.html#if-you-dont-have-tools",
    "title": "personal radmin",
    "section": "if you don‚Äôt have tools",
    "text": "if you don‚Äôt have tools\n\nmakeg++\n\n\nRunning `R CMD build`...\n* checking for file 'C:\\Users\\WDAGUtilityAccount\\AppData\\Local\\Temp\\RtmpkTUH61\\remotes192027624804\\tidyverse-dplyr-36ef054/DESCRIPTION' ... OK\n* preparing 'dplyr':\n* checking DESCRIPTION meta-information ... OK\n* cleaning src\n* installing the package to process help pages\n      -----------------------------------\n* installing *source* package 'dplyr' ...\n** using staged installation\n** libs\nWarning in system(cmd) : 'make' not found\nERROR: compilation failed for package 'dplyr'\n* removing 'C:/Users/WDAGUT~1/AppData/Local/Temp/Rtmp6hYuyV/Rinst1334d1a23d1/dplyr'\n      -----------------------------------\nERROR: package installation failed\n\n\nWarning in untar2(tarfile, files, list, exdir, restore_times) :\n  skipping pax global extended headers\n* installing *source* package 'dplyr' ...\n** using staged installation\n** libs\nc:/Rtools/mingw_64/bin/g++ -std=gnu++11  -I\"C:/PROGRA~1/R/R-36~1.3/include\" -DNDEBUG          -O2 -Wall  -mtune=core2 -c filter.cpp -o filter.o\nsh: line 1: c:/Rtools/mingw_64/bin/g++: No such file or directory\nmake: *** [C:/PROGRA~1/R/R-36~1.3/etc/x64/Makeconf:215: filter.o] Error 127\nERROR: compilation failed for package 'dplyr'\n* removing 'C:/Users/edavi/DOCUME~1/projects/WTF-PR~1/renv/staging/1/dplyr'\nError: install of package 'dplyr' failed"
  },
  {
    "objectID": "index.html#how-to-get-the-tools",
    "href": "index.html#how-to-get-the-tools",
    "title": "personal radmin",
    "section": "how to get the tools",
    "text": "how to get the tools\n\nwindows macOS linux \n\n\nRtools\n\n\nXCode\n‚ö†Ô∏è don‚Äôt run right now\nxcode-select --install\n\n\ninstall tools via package manager, e.g.\napt install make"
  },
  {
    "objectID": "index.html#got-tools",
    "href": "index.html#got-tools",
    "title": "personal radmin",
    "section": "got tools?",
    "text": "got tools?\n\ndevtools::has_devel()\n\n\n## Your system is ready to build packages!"
  },
  {
    "objectID": "index.html#system-dependencies",
    "href": "index.html#system-dependencies",
    "title": "personal radmin",
    "section": "system dependencies",
    "text": "system dependencies\n\nxml2opensslunitsgdal\n\n\n* installing *source* package ‚Äòxml2‚Äô ...\n** package ‚Äòxml2‚Äô successfully unpacked and MD5 sums checked\n** using staged installation\nPackage libxml-2.0 was not found in the pkg-config search path.\nPerhaps you should add the directory containing `libxml-2.0.pc'\nto the PKG_CONFIG_PATH environment variable\nPackage 'libxml-2.0', required by 'virtual:world', not found\nPackage libxml-2.0 was not found in the pkg-config search path.\nPerhaps you should add the directory containing `libxml-2.0.pc'\nto the PKG_CONFIG_PATH environment variable\nPackage 'libxml-2.0', required by 'virtual:world', not found\nUsing PKG_CFLAGS=\nUsing PKG_LIBS=-lxml2\n------------------------- ANTICONF ERROR ---------------------------\nConfiguration failed because libxml-2.0 was not found. Try installing:\n * deb: libxml2-dev (Debian, Ubuntu, etc)\n * rpm: libxml2-devel (Fedora, CentOS, RHEL)\n * csw: libxml2_dev (Solaris)\nIf libxml-2.0 is already installed, check that 'pkg-config' is in your\nPATH and PKG_CONFIG_PATH contains a libxml-2.0.pc file. If pkg-config\nis unavailable you can set INCLUDE_DIR and LIB_DIR manually via:\nR CMD INSTALL --configure-vars='INCLUDE_DIR=... LIB_DIR=...'\n--------------------------------------------------------------------\nERROR: configuration failed for package ‚Äòxml2‚Äô\n* removing ‚Äò/usr/local/lib/R/site-library/xml2‚Äô\n\nThe downloaded source packages are in\n    ‚Äò/tmp/Rtmp9JMc7F/downloaded_packages‚Äô\nWarning message:\nIn install.packages(\"xml2\") :\n  installation of package ‚Äòxml2‚Äô had non-zero exit status\n\n\n* installing *source* package ‚Äòs2‚Äô ...\n** package ‚Äòs2‚Äô successfully unpacked and MD5 sums checked\n** using staged installation\nTesting compiler using PKG_CFLAGS=\n--------------------------- [ANTICONF] --------------------------------\nConfiguration failed because openssl was not found. Try installing:\n * deb: libssl-dev (Debian, Ubuntu, etc)\n * rpm: openssl-devel (Fedora, CentOS, RHEL)\n * csw: libssl_dev (Solaris)\n * brew: openssl@1.1 (Mac OSX)\nIf openssl is already installed, check that 'pkg-config' is in your\nPATH and PKG_CONFIG_PATH contains a openssl.pc file. If pkg-config\nis unavailable you can set INCLUDE_DIR and LIB_DIR manually via:\nR CMD INSTALL --configure-vars='INCLUDE_DIR=... LIB_DIR=...'\n-------------------------- [ERROR MESSAGE] ---------------------------\ntools/version.c:1:10: fatal error: openssl/opensslv.h: No such file or directory\n    1 | #include &lt;openssl/opensslv.h&gt;\n      |          ^~~~~~~~~~~~~~~~~~~~\ncompilation terminated.\n--------------------------------------------------------------------\nERROR: configuration failed for package ‚Äòs2‚Äô\n* removing ‚Äò/usr/local/lib/R/site-library/s2‚Äô\n\n\n* installing *source* package ‚Äòunits‚Äô ...\n** package ‚Äòunits‚Äô successfully unpacked and MD5 sums checked\n** using staged installation\nconfigure: units: 0.8-5\n...\nconfigure: error:\n--------------------------------------------------------------------------------\n  Configuration failed because libudunits2.so was not found. Try installing:\n    * deb: libudunits2-dev (Debian, Ubuntu, ...)\n    * rpm: udunits2-devel (Fedora, EPEL, ...)\n    * brew: udunits (OSX)\n  If udunits2 is already installed in a non-standard location, use:\n    --configure-args='--with-udunits2-lib=/usr/local/lib'\n  if the library was not found, and/or:\n    --configure-args='--with-udunits2-include=/usr/include/udunits2'\n  if the header was not found, replacing paths with appropriate values.\n  You can alternatively set UDUNITS2_INCLUDE and UDUNITS2_LIBS manually.\n--------------------------------------------------------------------------------\n\nSee `config.log' for more details\nERROR: configuration failed for package ‚Äòunits‚Äô\n* removing ‚Äò/usr/local/lib/R/site-library/units‚Äô\n\n\n* installing *source* package ‚Äòsf‚Äô ...\n** package ‚Äòsf‚Äô successfully unpacked and MD5 sums checked\n** using staged installation\nconfigure: CC: gcc\nconfigure: CXX: g++ -std=gnu++17\nchecking for gdal-config... no\nno\nconfigure: error: gdal-config not found or not executable.\nERROR: configuration failed for package ‚Äòsf‚Äô\n* removing ‚Äò/usr/local/lib/R/site-library/sf‚Äô\n\nThe downloaded source packages are in\n    ‚Äò/tmp/Rtmp8bqjb0/downloaded_packages‚Äô\nWarning message:\nIn install.packages(\"sf\") :\n  installation of package ‚Äòsf‚Äô had non-zero exit status"
  },
  {
    "objectID": "index.html#runtime-dependencies",
    "href": "index.html#runtime-dependencies",
    "title": "personal radmin",
    "section": "runtime dependencies",
    "text": "runtime dependencies\n\n‚úÖ‚ùå\n\n\n&gt; library(sf)\nLinking to GEOS 3.12.2, GDAL 3.9.1, PROJ 9.4.1; sf_use_s2() is TRUE\n\n\n&gt; library(sf)\nError: package or namespace load failed for ‚Äòsf‚Äô in dyn.load(file, DLLpath = DLLpath, ...):\n unable to load shared object '/usr/local/lib/R/site-library/units/libs/units.so':\n  libudunits2.so.0: cannot open shared object file: No such file or directory"
  },
  {
    "objectID": "index.html#which-sysdeps",
    "href": "index.html#which-sysdeps",
    "title": "personal radmin",
    "section": "which sysdeps?",
    "text": "which sysdeps?"
  },
  {
    "objectID": "index.html#manylinux-binaries-reels",
    "href": "index.html#manylinux-binaries-reels",
    "title": "personal radmin",
    "section": "manylinux binaries reels",
    "text": "manylinux binaries reels\nüß™ currently in preview\n‚ùØ docker run --rm -it posit/r-base:4.3-jammy \\\n  R -e \"install.packages(\n    'sf',\n    repos='https://p3m.dev/cran/__linux__/manylinux_2_28/latest'\n    );\n    library(sf)\"\n...\n* DONE (sf)\n\nThe downloaded source packages are in\n        '/tmp/RtmpVUxFy1/downloaded_packages'\nUpdating HTML index of packages in '.Library'\nMaking 'packages.html' ... done\nLinking to GEOS 3.7.2, GDAL 3.0.4, PROJ 6.3.2; sf_use_s2() is TRUE"
  },
  {
    "objectID": "index.html#activity-1",
    "href": "index.html#activity-1",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\ninstall a package from r-universe\n\n\n\nopen the wtf-explore-libraries project from earlier\ninstall.packages(\"gitcellar\") # not on cran!\nupdate your project .Rprofile:\nusethis::edit_r_profile(scope = \"project\")\noptions(repos = c(\n  ropensci = \"https://ropensci.r-universe.dev\",\n  P3M = \"https://p3m.dev/cran/latest\" # windows\n))\nsave .Rprofile and restart R\ninstall.packages(\"gitcellar\")\n\n\n\n  \n    ‚àí\n    +\n \n 05:00"
  },
  {
    "objectID": "index.html#discussion",
    "href": "index.html#discussion",
    "title": "personal radmin",
    "section": "discussion",
    "text": "discussion\n\ndid you install gitcellar from binary or source?\n\nHow do you know?"
  },
  {
    "objectID": "index.html#wrapping-up-1",
    "href": "index.html#wrapping-up-1",
    "title": "personal radmin",
    "section": "wrapping up",
    "text": "wrapping up\nbinaries are usually preferred, but for development versions of packages, you may need to install from source."
  },
  {
    "objectID": "index.html#reproducible-environments-1",
    "href": "index.html#reproducible-environments-1",
    "title": "personal radmin",
    "section": "reproducible environments",
    "text": "reproducible environments"
  },
  {
    "objectID": "index.html#reproducibility-strategies",
    "href": "index.html#reproducibility-strategies",
    "title": "personal radmin",
    "section": "reproducibility strategies",
    "text": "reproducibility strategies\n\n\nwe‚Äôre focused in particular on systems where we have both access and responsibility"
  },
  {
    "objectID": "index.html#tools",
    "href": "index.html#tools",
    "title": "personal radmin",
    "section": "tools",
    "text": "tools\n\n\np3m\n\n\n\n\nrenv\n\n\n\n\n\nrenv has a number of tools that are helpful for adopting a project-based workflow: - lockfile records what packages you use and where you instaled them from - renv::install() can handle installation from remote sources, local sources, package versions, bioconductor, rspm - per-project library isolation with global package cache - makes it easy to install experimental versions of packages and then roll back to a stable release if it doesn‚Äôt work out"
  },
  {
    "objectID": "index.html#p3m-2",
    "href": "index.html#p3m-2",
    "title": "personal radmin",
    "section": "p3m",
    "text": "p3m"
  },
  {
    "objectID": "index.html#p3m-latest",
    "href": "index.html#p3m-latest",
    "title": "personal radmin",
    "section": "p3m: latest",
    "text": "p3m: latest"
  },
  {
    "objectID": "index.html#p3m-date-based-snapshots",
    "href": "index.html#p3m-date-based-snapshots",
    "title": "personal radmin",
    "section": "p3m: date-based snapshots",
    "text": "p3m: date-based snapshots"
  },
  {
    "objectID": "index.html#activity-2",
    "href": "index.html#activity-2",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\ntime travel!\n\n\nopen the wtf-explore-libraries project\nrun packageVersion(\"dplyr\")\nupdate your project .Rprofile with a date-based snapshot of CRAN\noptions(repos = c(RSPM = \"https://p3m.dev/cran/2022-12-31\"))\nRestart R\ninstall.packages(\"dplyr\")\n\nwhat version of dplyr did you install?\n\n  \n    ‚àí\n    +\n \n 05:00"
  },
  {
    "objectID": "index.html#section-2",
    "href": "index.html#section-2",
    "title": "personal radmin",
    "section": "‚è™",
    "text": "‚è™\n\nremove the repository configuration from your project .Rprofile\nrestart R\nreinstall whatever version of dplyr you were using before, e.g.:\nremotes::install_vesion(\"dplyr\", \"1.0.10\")\n\nif that process seems silly, ‚ú® you should use renv ‚ú®"
  },
  {
    "objectID": "index.html#renv-2",
    "href": "index.html#renv-2",
    "title": "personal radmin",
    "section": "renv",
    "text": "renv"
  },
  {
    "objectID": "index.html#shared-project-environment",
    "href": "index.html#shared-project-environment",
    "title": "personal radmin",
    "section": "shared project environment",
    "text": "shared project environment\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlibrary\n\n\n\n\n\n\n\nproject1\n\n\n\n\n\n\n\nproject2\n\n\n\n\n\n\n\nproject3\n\n\n\n\n\n\n\n\n\n\n\n\n\nby default all of your packages are installed into your user library\nthe unforunate default behavior in macOS is also that this is the system library\nupdating a package in the shared environments updates it for all of your projects"
  },
  {
    "objectID": "index.html#shared-project-environment-1",
    "href": "index.html#shared-project-environment-1",
    "title": "personal radmin",
    "section": "shared project environment",
    "text": "shared project environment\n.libPaths()\n&gt; .libPaths()\n[1] \"C:/Users/edavi/AppData/Local/R/win-library/4.4\" # user\n[2] \"C:/Program Files/R/R-4.4.0/library\" # system"
  },
  {
    "objectID": "index.html#isolated-project-environments",
    "href": "index.html#isolated-project-environments",
    "title": "personal radmin",
    "section": "isolated project environments",
    "text": "isolated project environments\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nglobal cache\n\n\n\n\n\n\n\nlibrary1\n\n\n\n\n\n\n\nlibrary2\n\n\n\n\n\n\n\nlibrary3\n\n\n\n\n\n\n\nproject1\n\n\n\n\n\n\n\nproject2\n\n\n\n\n\n\n\nproject3"
  },
  {
    "objectID": "index.html#isolated-project-environments-1",
    "href": "index.html#isolated-project-environments-1",
    "title": "personal radmin",
    "section": "isolated project environments",
    "text": "isolated project environments\n.libPaths()\n- Project '~/sample-project' loaded. [renv 1.0.7]\n&gt; .libPaths()\n[1] \"C:/Users/edavi/Documents/sample-project/renv/library/windows/R-4.4/x86_64-w64-mingw32\"\n[2] \"C:/Users/edavi/AppData/Local/R/cache/R/renv/sandbox/windows/R-4.4/x86_64-w64-mingw32/88765555\""
  },
  {
    "objectID": "index.html#isolated-project-environments-2",
    "href": "index.html#isolated-project-environments-2",
    "title": "personal radmin",
    "section": "isolated project environments",
    "text": "isolated project environments\n\nexperiment with new packages without breaking other projects\nshare exactly which versions you‚Äôre using with your team or future you\nre-use packages you‚Äôve already installed"
  },
  {
    "objectID": "index.html#activity-3",
    "href": "index.html#activity-3",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\ncreate an isolated project library\n\nusethis::create_project(\"~/wtf-renv\") # or wherever you typically put projects\ninstall.packages(\"renv\")\nrenv::init()\nrenv::status()\n\n  \n    ‚àí\n    +\n \n 03:00"
  },
  {
    "objectID": "index.html#activity-4",
    "href": "index.html#activity-4",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\nmanage dependencies\n\nadd library(parallelly) to any file in the wtf-renv/R directory\nrenv::status()\ninstall.packages(\"parallelly\")\nrenv::status()\nrenv::snapshot()\nremove library(parallelly) from the file you added it to\nrenv::status()\n\n  \n    ‚àí\n    +\n \n 05:00\n \n\nrun .libPaths() to see what your default package libraries are initialize an renv‚Äìyou‚Äôll see that the environment is now local to the project note the .Rprofile that gets placed into your project, which runs an R script in renv/activate.R deactivate the environment and check libPaths() again‚Äìit should be back to normal"
  },
  {
    "objectID": "index.html#renvinstall",
    "href": "index.html#renvinstall",
    "title": "personal radmin",
    "section": "renv::install()",
    "text": "renv::install()\nor install.packages() with shims enabled\nrenv::install(\"jsonlite\")\nrenv::install(\"jsonlite@1.2\") # at version\nrenv::install(\"jeroen/jsonlite\") # latest\nrenv::install\"jeroen/jsonlite@80854359976250f30a86a6992c0d8c3b3d95473d\") # at SHA\nrenv::install(\"path/to/package\") # local source\n\n\ndevtools::install(\"jsonlite\")\ndevtools::install_version(\"jsonlite@1.2\") # at version\ndevtools::install_github(\"jeroen/jsonlite\") # latest\ndevtools::install_github(\"jeroen/jsonlite@80854359976250f30a86a6992c0d8c3b3d95473d\") # at SHA\ndevtools::install(\"path/to/package\") # local source"
  },
  {
    "objectID": "index.html#the-junk-drawer",
    "href": "index.html#the-junk-drawer",
    "title": "personal radmin",
    "section": "the junk drawer",
    "text": "the junk drawer\nfor reprexes, tweets, and other ephemera:\n~/Documents/scratch\n\nI use renv for everything, and have one junk project into which I install things without regard for stability or reproducibility"
  },
  {
    "objectID": "index.html#installing-upgrading-r",
    "href": "index.html#installing-upgrading-r",
    "title": "personal radmin",
    "section": "installing / upgrading R",
    "text": "installing / upgrading R"
  },
  {
    "objectID": "index.html#practice-makes-perfect",
    "href": "index.html#practice-makes-perfect",
    "title": "personal radmin",
    "section": "practice makes perfect",
    "text": "practice makes perfect\n\nWindows 10+macOSLinux\n\n\nWindows Sandbox\n\n\ntart utm\n\n\nMultipass\nDigital Ocean\nLinode\n\n\n\n\nThe best way to become more comfortable with installing things is to practice in an environment you can throw away - the windows sandbox lets you test in an environment on your machine that won‚Äôt affect your computer - enabling it is outside the scope of this course - for linux users, the easiest thing to do is stand up a small VPS"
  },
  {
    "objectID": "index.html#run-this-command-clickops",
    "href": "index.html#run-this-command-clickops",
    "title": "personal radmin",
    "section": "‚Äúrun this command‚Äù >> clickOps",
    "text": "‚Äúrun this command‚Äù &gt;&gt; clickOps"
  },
  {
    "objectID": "index.html#package-managers",
    "href": "index.html#package-managers",
    "title": "personal radmin",
    "section": "package managers",
    "text": "package managers\nsoftware whose job it is to install other software üôâ not the same kinds of packages as PPM\n\n\n\n\npackage manager\n\n\n\n\n windows\nscoop, chocolatey, winget\n\n\n macOS\nhomebrew\n\n\n linux\nhomebrew, apt, yum, zypper"
  },
  {
    "objectID": "index.html#language-managers",
    "href": "index.html#language-managers",
    "title": "personal radmin",
    "section": "language managers",
    "text": "language managers\nusing your package manager, install rig:\n\nwindows*nix\n\n\nscoop install rig\n\n\nbrew tap r-lib/rig\nbrew install --cask rig\n\n\n\n\nlanguage managers for other languages:\n uv  nvm  rustup  asdf  mise-en-place\n\n\n\nmany language managers are often written in some language other than the one they are responsible for managing"
  },
  {
    "objectID": "index.html#section-3",
    "href": "index.html#section-3",
    "title": "personal radmin",
    "section": "‚ö†Ô∏è",
    "text": "‚ö†Ô∏è\nAvoid installing your language with a package manager\n‚ùå brew install r\n\nYou want to avoid having the language version your projects are using changed out from you unexpectedly Tools for freezing installations with your package manager are not consistently effective Other software that you install with your package manager may expect that package manager to be running the latest Idiosyncracies of your language will be better understood by a dedicated tool"
  },
  {
    "objectID": "index.html#list-installed-r-versions",
    "href": "index.html#list-installed-r-versions",
    "title": "personal radmin",
    "section": "list installed R versions",
    "text": "list installed R versions\n\n\n\n\n‚ùØ rig list --help\nDescription:\n  List installed R versions at `C:\\Program Files\\R`.\n  It does _not_ check if they are working properly.\n\n  `rig ls` is an alias.\n\n\n‚ùØ rig list --help\nDescription:\n  List installed R versions from `/Library/Framework/R.framework/Versions`.\n  It does _not_ check if they are working properly.\n\n  `rig ls` is an alias.\n\n\n‚ùØ rig list --help\nDescription:\n  List installed R versions from `/opt/R`. It does _not_ check if they are\n  working properly.\n\n  `rig ls` is an alias."
  },
  {
    "objectID": "index.html#language-versions",
    "href": "index.html#language-versions",
    "title": "personal radmin",
    "section": "language versions",
    "text": "language versions\nusing rig, install a version of R:\n‚ùØ rig install --help\nDescription:\n  Download and install an R version, from the official sources.\n  It keeps the already installed R versions, except versions within the\n  same minor branch, see below.\n\nOptions:\n      --without-cran-mirror\n          Do not set the cloud CRAN mirror\n\n      --without-pak\n          Do not install pak.\n\n      --pak-version &lt;pak-version&gt;\n          pak version to install.\n\n          [default: stable]\n          [possible values: stable, rc, devel]\n\n  -a, --arch &lt;arch&gt;\n          Select macOS arch: arm64 or x86_64\n\n          [default: arm64]\n          [possible values: arm64, x86_64]\n\n  -h, --help\n          Print help (see a summary with '-h')\n\nExamples:\n  # Add the latest development snapshot\n  rig add devel\n\n  # Add the latest release\n  rig add release\n\n  # Install specific version\n  rig add 4.1.2\n\n  # Install latest version within a minor branch\n  rig add 4.1\n\n  # Install arm64 build of R (default on arm64 macs)\n  rig add -a arm64 release\n\n  # Install x86_64 build of R (default on x86_64 macs)\n  rig add -a x86_64 release\n\nif you‚Äôre running a distribution of linux that rig doesn‚Äôt support: - https://docs.rstudio.com/resources/install-r/\nif no pre-compiled binary of R is available: - https://docs.rstudio.com/resources/install-r-source/"
  },
  {
    "objectID": "index.html#switching-default-versions",
    "href": "index.html#switching-default-versions",
    "title": "personal radmin",
    "section": "switching default versions",
    "text": "switching default versions\n‚ùØ rig switch --help\nDescription:\n  Print or set the default R version. The default R version is the one that\n  is started with the `R` command, usually via the `/usr/local/bin/R`\n  symbolic link.\n\n  `rig switch` is an alias of `rig default`.\n\nUsage: rig default [OPTIONS] [version]\n\nArguments:\n  [version]\n          new default R version to set\n\nOptions:\n      --json\n          JSON output\n\n  -h, --help\n          Print help (see a summary with '-h')\n\nExamples:\n  # Query default R version\n  rig default\n\n  # Set the default version\n  rig default 4.1"
  },
  {
    "objectID": "index.html#launch-rstudio",
    "href": "index.html#launch-rstudio",
    "title": "personal radmin",
    "section": "launch rstudio",
    "text": "launch rstudio\n‚ùØ rig rstudio --help\nDescription:\n  Start RStudio with the specified R version.\n\n  If the RStudio project or the specified directory contains an `renv.lock`\n  file (created by the renv package), and `version` is not specified, then\n  rig will read the preferred R version from the `renv.lock` file.\n  If the same exact version is not installed, then rig chooses\n  the latest version with the same major and minor components. If no such\n  version is available, rig throws an error.\n\nExamples:\n  # With default R version\n  rig rstudio\n\n  # With another R version\n  rig rstudio 4.0\n\n  # Open project with default R version\n  rig rstudio cli.Rproj\n\n  # Open renv project with the R version specified in the lock file\n  rig rstudio projects/myproject/renv.lock\n\n  # Open RStudio project with specified R version, either is good\n  rig rstudio 4.0 cli.Rproj\n  rig rstudio cli.Rproj 4.0\n\nUsage: rig rstudio [version] [project-file]\n\nArguments:\n  [version]\n          R version to start\n\n  [project-file]\n          RStudio project file (.Rproj) to open"
  },
  {
    "objectID": "index.html#activity-5",
    "href": "index.html#activity-5",
    "title": "personal radmin",
    "section": "activity",
    "text": "activity\n\nmigrate a project from one R version to another\n\n\nuse renv::snapshot() to create an renv.lock file\nclose RStudio\nlaunch RStudio with a different R version\nuse renv::restore() to restore your project\n\n\n  \n    ‚àí\n    +\n \n 07:00"
  }
]